{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Register{% endblock %}</h1>
{% endblock %}

{% block content %}
  <form method="post">
    <br>
        <legend>Registration Form</legend>
        <label for="username">Username: </label>
        <input name="username" id="username" required>
        </br>
        <label for="email">Email: </label>
        <input type="email" pattern="[^ @]*@[^ @]*" placeholder="Enter your email">
        </br>
        <label for="password">Password:
            <input type="password" name="password" id="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required>
        </label>
        </br>
        <label>confirm password:
            <input type="password" name="confirm_password" id="confirm_password"/>
            <span id='message'></span>
        </label>
        </br>
        <input type="submit" value="Register">
    </fieldset>
      </form>
        <script>
            var password = document.getElementById("password")
              , confirm_password = document.getElementById("confirm_password");

            function validatePassword(){
              if(password.value != confirm_password.value) {
                confirm_password.setCustomValidity("Passwords Don't Match");
              } else {
                confirm_password.setCustomValidity('');
              }
            }

            password.onchange = validatePassword;
            confirm_password.onkeyup = validatePassword;
        </script>
{% endblock %}
